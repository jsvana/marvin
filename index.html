<!DOCTYPE html>
<html>
	<head>
		<title>Test</title>

		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
		<script src="/public/highcharts.js"></script>
		<script>
			var chart;

			$(function() {
				$.getJSON('http://pi.jsvana.me:8080/temperatures', function(data) {
					var temps = [];
					data.forEach(function(row) {
						temps.push(row.value);
					});

			    $(document).ready(function() {
						chart = new Highcharts.Chart({
							chart: {
								renderTo: 'temperatures',
								type: 'line',
								marginRight: 130,
								marginBottom: 25
							},
							title: {
								text: 'Room Temperature',
								x: -20 //center
							},
							series: [{
								name: 'Temperatures',
								data: temps
							}]
						});
					});
			  });
			});
		</script>
	</head>

	<body>
		<div id="temperatures"></div>
	</body>
</html>
